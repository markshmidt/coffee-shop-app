<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" style="background: transparent; background-color: transparent; color-scheme: light dark;" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1210px" height="1201px" viewBox="-0.5 -0.5 1210 1201" content="&lt;mxfile host=&quot;app.diagrams.net&quot; agent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36&quot; version=&quot;28.1.2&quot;&gt;&#10;  &lt;diagram name=&quot;Page-1&quot; id=&quot;slzt4VU5bZS-0p-FzJaV&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;2112&quot; dy=&quot;733&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;850&quot; pageHeight=&quot;1100&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-2&quot; value=&quot;User&quot; style=&quot;swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=55;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;html=1;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;145&quot; y=&quot;20&quot; width=&quot;140&quot; height=&quot;170&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-3&quot; value=&quot;attributes&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-2&quot;&gt;&#10;          &lt;mxGeometry y=&quot;55&quot; width=&quot;140&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-4&quot; value=&quot;- id: long&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-2&quot;&gt;&#10;          &lt;mxGeometry y=&quot;75&quot; width=&quot;140&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-6&quot; value=&quot;- username: str&amp;lt;div&amp;gt;- is_active: bool&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-2&quot;&gt;&#10;          &lt;mxGeometry y=&quot;95&quot; width=&quot;140&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-7&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-2&quot;&gt;&#10;          &lt;mxGeometry y=&quot;115&quot; width=&quot;140&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-8&quot; value=&quot;&amp;lt;br&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;&amp;amp;lt;Group: BARISTA|MANAGER&amp;amp;gt;&amp;amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-2&quot;&gt;&#10;          &lt;mxGeometry y=&quot;123&quot; width=&quot;140&quot; height=&quot;47&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-10&quot; value=&quot;Customer&quot; style=&quot;swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=55;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;html=1;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-330&quot; y=&quot;140&quot; width=&quot;260&quot; height=&quot;255&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-11&quot; value=&quot;attributes&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-10&quot;&gt;&#10;          &lt;mxGeometry y=&quot;55&quot; width=&quot;260&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-12&quot; value=&quot;- id: long&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-10&quot;&gt;&#10;          &lt;mxGeometry y=&quot;75&quot; width=&quot;260&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-13&quot; value=&quot;+ fname: str&amp;lt;div&amp;gt;+ lname: str&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;+ phone: str, unique&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;+ mail: email&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;+ created_at: date&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;+&amp;amp;nbsp;&amp;lt;span style=&amp;quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&amp;quot;&amp;gt;+pontsBalance(): int&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;span style=&amp;quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-10&quot;&gt;&#10;          &lt;mxGeometry y=&quot;95&quot; width=&quot;260&quot; height=&quot;95&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-14&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-10&quot;&gt;&#10;          &lt;mxGeometry y=&quot;190&quot; width=&quot;260&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-15&quot; value=&quot;operations&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-10&quot;&gt;&#10;          &lt;mxGeometry y=&quot;198&quot; width=&quot;260&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-16&quot; value=&quot;&amp;lt;div&amp;gt;+ canRedeem(pointsNeeded=80): bool&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-10&quot;&gt;&#10;          &lt;mxGeometry y=&quot;218&quot; width=&quot;260&quot; height=&quot;37&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-18&quot; value=&quot;Category&quot; style=&quot;swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=55;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;html=1;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-340&quot; y=&quot;580&quot; width=&quot;260&quot; height=&quot;205&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-19&quot; value=&quot;attributes&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-18&quot;&gt;&#10;          &lt;mxGeometry y=&quot;55&quot; width=&quot;260&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-20&quot; value=&quot;- id: long&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-18&quot;&gt;&#10;          &lt;mxGeometry y=&quot;75&quot; width=&quot;260&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-21&quot; value=&quot;&amp;lt;div&amp;gt;+ name: str&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;span style=&amp;quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&amp;quot;&amp;gt;+ position: str?&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-18&quot;&gt;&#10;          &lt;mxGeometry y=&quot;95&quot; width=&quot;260&quot; height=&quot;45&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-22&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-18&quot;&gt;&#10;          &lt;mxGeometry y=&quot;140&quot; width=&quot;260&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-23&quot; value=&quot;operations&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-18&quot;&gt;&#10;          &lt;mxGeometry y=&quot;148&quot; width=&quot;260&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-24&quot; value=&quot;+ rename(newName)&amp;lt;div&amp;gt;+ reorder(newPosition)&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-18&quot;&gt;&#10;          &lt;mxGeometry y=&quot;168&quot; width=&quot;260&quot; height=&quot;37&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-25&quot; value=&quot;MenuItem&quot; style=&quot;swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=55;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;html=1;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-290&quot; y=&quot;960&quot; width=&quot;260&quot; height=&quot;260&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-26&quot; value=&quot;attributes&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-25&quot;&gt;&#10;          &lt;mxGeometry y=&quot;55&quot; width=&quot;260&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-77&quot; value=&quot;&quot; style=&quot;edgeStyle=entityRelationEdgeStyle;fontSize=12;html=1;endArrow=ERzeroToMany;startArrow=ERmandOne;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-25&quot; target=&quot;vJNTymB56bN5HtAki3eb-46&quot;&gt;&#10;          &lt;mxGeometry width=&quot;100&quot; height=&quot;100&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;250&quot; y=&quot;170&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;350&quot; y=&quot;70&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-78&quot; value=&quot;from_menu&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;vJNTymB56bN5HtAki3eb-77&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.0046&quot; y=&quot;-7&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-27&quot; value=&quot;- id: long&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-25&quot;&gt;&#10;          &lt;mxGeometry y=&quot;75&quot; width=&quot;260&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-28&quot; value=&quot;&amp;lt;div&amp;gt;+ name: str&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;+ price_cents: int&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;+ active: bool&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;+ description?: str&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-25&quot;&gt;&#10;          &lt;mxGeometry y=&quot;95&quot; width=&quot;260&quot; height=&quot;65&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-29&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-25&quot;&gt;&#10;          &lt;mxGeometry y=&quot;160&quot; width=&quot;260&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-30&quot; value=&quot;operations&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-25&quot;&gt;&#10;          &lt;mxGeometry y=&quot;168&quot; width=&quot;260&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-31&quot; value=&quot;+ rename(newName)&amp;lt;div&amp;gt;+ reprice(newPrice)&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;+ activate()&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;+ deactivate()&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-25&quot;&gt;&#10;          &lt;mxGeometry y=&quot;188&quot; width=&quot;260&quot; height=&quot;72&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-39&quot; value=&quot;Order&quot; style=&quot;swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=55;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;html=1;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;40&quot; y=&quot;400&quot; width=&quot;410&quot; height=&quot;390&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-79&quot; value=&quot;&quot; style=&quot;edgeStyle=entityRelationEdgeStyle;fontSize=12;html=1;endArrow=ERzeroToMany;startArrow=ERmandOne;rounded=0;entryX=0.023;entryY=0.109;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-39&quot; target=&quot;vJNTymB56bN5HtAki3eb-52&quot;&gt;&#10;          &lt;mxGeometry width=&quot;100&quot; height=&quot;100&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;360&quot; y=&quot;110&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;460&quot; y=&quot;10&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-80&quot; value=&quot;settled_by&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;vJNTymB56bN5HtAki3eb-79&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.0257&quot; y=&quot;-1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-40&quot; value=&quot;attributes&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-39&quot;&gt;&#10;          &lt;mxGeometry y=&quot;55&quot; width=&quot;410&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-42&quot; value=&quot;+id&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +status: OrderStatus&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;%% PAID|COMPLETED|REFUNDED&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +paid_at: date&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +subtotal_cents&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +manual_discount_type: DiscountType&amp;amp;nbsp; %% NONE|STUDENT_10|FRIENDS_FAMILY_20&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +manual_discount_cents: int&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +loyalty_redemption_cents :int&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; %% value of free drink this order&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +tax_cents: int&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +receipt_number : int&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +total_cents: int&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +points_earned : int&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; %% floor(pre-tax, post-discount $)&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +redeemed_points : int&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; %% 0 or 80&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +created_at: date&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-39&quot;&gt;&#10;          &lt;mxGeometry y=&quot;75&quot; width=&quot;410&quot; height=&quot;215&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-43&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-39&quot;&gt;&#10;          &lt;mxGeometry y=&quot;290&quot; width=&quot;410&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-44&quot; value=&quot;operations&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-39&quot;&gt;&#10;          &lt;mxGeometry y=&quot;298&quot; width=&quot;410&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-45&quot; value=&quot;&amp;amp;nbsp; +complete(actor: User)&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +refund(manager: User, reference, reason)&amp;amp;nbsp; &amp;amp;nbsp;%% manager-only&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +isEditable(): bool&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; %% false after pay&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +validateInvariant()&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-39&quot;&gt;&#10;          &lt;mxGeometry y=&quot;318&quot; width=&quot;410&quot; height=&quot;72&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-46&quot; value=&quot;OrderItem&quot; style=&quot;swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=55;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;html=1;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;240&quot; y=&quot;910&quot; width=&quot;160&quot; height=&quot;240&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-47&quot; value=&quot;attributes&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-46&quot;&gt;&#10;          &lt;mxGeometry y=&quot;55&quot; width=&quot;160&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-48&quot; value=&quot;&amp;amp;nbsp; +id: int&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +name_snapshot:str&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +unit_price_cents: int&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +qty: int&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-46&quot;&gt;&#10;          &lt;mxGeometry y=&quot;75&quot; width=&quot;160&quot; height=&quot;65&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-49&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-46&quot;&gt;&#10;          &lt;mxGeometry y=&quot;140&quot; width=&quot;160&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-50&quot; value=&quot;operations&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-46&quot;&gt;&#10;          &lt;mxGeometry y=&quot;148&quot; width=&quot;160&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-51&quot; value=&quot;+ lineTotal(): int&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-46&quot;&gt;&#10;          &lt;mxGeometry y=&quot;168&quot; width=&quot;160&quot; height=&quot;72&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-52&quot; value=&quot;PaymentRecord&quot; style=&quot;swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=55;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;html=1;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;580&quot; y=&quot;340&quot; width=&quot;200&quot; height=&quot;280&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-53&quot; value=&quot;attributes&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-52&quot;&gt;&#10;          &lt;mxGeometry y=&quot;55&quot; width=&quot;200&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-54&quot; value=&quot;+id&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +method: PaymentMethod&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp;%% CASH|CARD|COMP&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +amount_cents: int&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +reference? str&amp;lt;br style=&amp;quot;padding: 0px; margin: 0px;&amp;quot;&amp;gt;&amp;amp;nbsp; +created_at: date&amp;lt;div&amp;gt;+rounding_cents: int=0 (0, +-1, +-2)&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-52&quot;&gt;&#10;          &lt;mxGeometry y=&quot;75&quot; width=&quot;200&quot; height=&quot;105&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-55&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-52&quot;&gt;&#10;          &lt;mxGeometry y=&quot;180&quot; width=&quot;200&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-56&quot; value=&quot;operations&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-52&quot;&gt;&#10;          &lt;mxGeometry y=&quot;188&quot; width=&quot;200&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-57&quot; value=&quot;+ isRefund(): bool&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;vJNTymB56bN5HtAki3eb-52&quot;&gt;&#10;          &lt;mxGeometry y=&quot;208&quot; width=&quot;200&quot; height=&quot;72&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-63&quot; value=&quot;&quot; style=&quot;edgeStyle=entityRelationEdgeStyle;fontSize=12;html=1;endArrow=ERzeroToOne;startArrow=ERmandOne;rounded=0;entryX=0.459;entryY=1.097;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;vJNTymB56bN5HtAki3eb-39&quot; target=&quot;vJNTymB56bN5HtAki3eb-8&quot;&gt;&#10;          &lt;mxGeometry width=&quot;100&quot; height=&quot;100&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;130&quot; y=&quot;377.6&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;180.69999999999982&quot; y=&quot;169.99699999999993&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;75&quot; y=&quot;217.6&quot; /&gt;&#10;              &lt;mxPoint x=&quot;90&quot; y=&quot;320&quot; /&gt;&#10;              &lt;mxPoint x=&quot;165&quot; y=&quot;247.6&quot; /&gt;&#10;              &lt;mxPoint x=&quot;95&quot; y=&quot;217.6&quot; /&gt;&#10;              &lt;mxPoint x=&quot;95&quot; y=&quot;217.6&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-64&quot; value=&quot;created by&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;vJNTymB56bN5HtAki3eb-63&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.0965&quot; y=&quot;-3&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-71&quot; value=&quot;&quot; style=&quot;edgeStyle=entityRelationEdgeStyle;fontSize=12;html=1;endArrow=ERzeroToMany;startArrow=ERzeroToOne;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;vJNTymB56bN5HtAki3eb-10&quot; target=&quot;vJNTymB56bN5HtAki3eb-39&quot;&gt;&#10;          &lt;mxGeometry width=&quot;100&quot; height=&quot;100&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-200&quot; y=&quot;450&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-50&quot; y=&quot;460&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-72&quot; value=&quot;attached_to&amp;lt;div&amp;gt;optional (guest)&amp;lt;/div&amp;gt;&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;vJNTymB56bN5HtAki3eb-71&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.0697&quot; y=&quot;4&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-73&quot; value=&quot;&quot; style=&quot;edgeStyle=entityRelationEdgeStyle;fontSize=12;html=1;endArrow=ERmany;rounded=0;entryX=0.725;entryY=-0.015;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;vJNTymB56bN5HtAki3eb-18&quot; target=&quot;vJNTymB56bN5HtAki3eb-25&quot;&gt;&#10;          &lt;mxGeometry width=&quot;100&quot; height=&quot;100&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-150&quot; y=&quot;682&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-10&quot; y=&quot;1099.5&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-74&quot; value=&quot;contains many&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;vJNTymB56bN5HtAki3eb-73&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.0054&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-75&quot; value=&quot;&quot; style=&quot;edgeStyle=entityRelationEdgeStyle;fontSize=12;html=1;endArrow=ERzeroToMany;startArrow=ERmandOne;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;vJNTymB56bN5HtAki3eb-39&quot; target=&quot;vJNTymB56bN5HtAki3eb-46&quot;&gt;&#10;          &lt;mxGeometry width=&quot;100&quot; height=&quot;100&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;290&quot; y=&quot;720&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;390&quot; y=&quot;620&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;380&quot; y=&quot;870&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-76&quot; value=&quot;has one or more&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;vJNTymB56bN5HtAki3eb-75&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.1567&quot; y=&quot;1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-81&quot; value=&quot;total_cents = subtotal_cents − manual_discount_cents − loyalty_redemption_cents + tax_cents + tip_cents&quot; style=&quot;html=1;whiteSpace=wrap;strokeColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;220&quot; y=&quot;320&quot; width=&quot;320&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-82&quot; value=&quot;&amp;lt;code data-end=&amp;quot;1407&amp;quot; data-start=&amp;quot;1340&amp;quot;&amp;gt;payment.amount_cents = order.total_cents + payment.rounding_cents&amp;lt;/code&amp;gt;&amp;lt;br data-end=&amp;quot;1410&amp;quot; data-start=&amp;quot;1407&amp;quot;&amp;gt;&amp;lt;br/&amp;gt;(and &amp;lt;code data-end=&amp;quot;1455&amp;quot; data-start=&amp;quot;1417&amp;quot;&amp;gt;rounding_cents ∈ {−2, −1, 0, +1, +2}&amp;lt;/code&amp;gt; only when &amp;lt;code data-end=&amp;quot;1479&amp;quot; data-start=&amp;quot;1466&amp;quot;&amp;gt;method=CASH&amp;lt;/code&amp;gt;; otherwise 0)&quot; style=&quot;html=1;whiteSpace=wrap;strokeColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;530&quot; y=&quot;250&quot; width=&quot;320&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vJNTymB56bN5HtAki3eb-83&quot; value=&quot;&amp;lt;code data-start=&amp;quot;1512&amp;quot; data-end=&amp;quot;1604&amp;quot;&amp;gt;points_earned = floor(pre-tax subtotal AFTER manual discount and EXCLUDING redeemed drink)&amp;lt;/code&amp;gt;&amp;lt;br data-start=&amp;quot;1604&amp;quot; data-end=&amp;quot;1607&amp;quot;&amp;gt;&amp;#xa;&amp;lt;code data-start=&amp;quot;1609&amp;quot; data-end=&amp;quot;1636&amp;quot;&amp;gt;redeemed_points ∈ {0, 80}&amp;lt;/code&amp;gt;&quot; style=&quot;text;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-360&quot; y=&quot;440&quot; width=&quot;330&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;"><defs/><g><g data-cell-id="0"><g data-cell-id="1"><g data-cell-id="vJNTymB56bN5HtAki3eb-2"><g><path d="M 505 55 L 505 0 L 645 0 L 645 55" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 505 55 L 505 170 L 645 170 L 645 55" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 505 55 L 645 55" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 7px; margin-left: 506px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">User</div></div></div></foreignObject><text x="575" y="19" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">User</text></switch></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-3"><g><rect x="505" y="55" width="140" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 130px; height: 1px; padding-top: 65px; margin-left: 510px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">attributes</div></div></div></foreignObject><text x="575" y="69" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">attributes</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-4"><g><rect x="505" y="75" width="140" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 130px; height: 1px; padding-top: 85px; margin-left: 511px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">- id: long</div></div></div></foreignObject><text x="511" y="89" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">- id: long</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-6"><g><rect x="505" y="95" width="140" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 130px; height: 1px; padding-top: 105px; margin-left: 511px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">- username: str<div>- is_active: bool</div></div></div></div></foreignObject><text x="511" y="109" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">- username: str...</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-7"><g><path d="M 505 119 L 645 119" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-8"><g><rect x="505" y="123" width="140" height="47" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 130px; height: 1px; padding-top: 147px; margin-left: 510px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 43px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><br /><div>&lt;&lt;Group: BARISTA|MANAGER&gt;&gt;</div></div></div></div></foreignObject><text x="575" y="150" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">&lt;&lt;Group: BARISTA|MANAG...</text></switch></g></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-10"><g><path d="M 30 175 L 30 120 L 290 120 L 290 175" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 30 175 L 30 375 L 290 375 L 290 175" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 30 175 L 290 175" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 127px; margin-left: 31px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Customer</div></div></div></foreignObject><text x="160" y="139" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Customer</text></switch></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-11"><g><rect x="30" y="175" width="260" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 250px; height: 1px; padding-top: 185px; margin-left: 35px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">attributes</div></div></div></foreignObject><text x="160" y="189" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">attributes</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-12"><g><rect x="30" y="195" width="260" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 250px; height: 1px; padding-top: 205px; margin-left: 36px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">- id: long</div></div></div></foreignObject><text x="36" y="209" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">- id: long</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-13"><g><rect x="30" y="215" width="260" height="95" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 250px; height: 1px; padding-top: 263px; margin-left: 36px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 91px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">+ fname: str<div>+ lname: str</div><div>+ phone: str, unique</div><div>+ mail: email</div><div>+ created_at: date</div><div>+ <span style="background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));">+pontsBalance(): int</span></div><div><span style="background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><br /></span></div></div></div></div></foreignObject><text x="36" y="266" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">+ fname: str...</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-14"><g><path d="M 30 314 L 290 314" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-15"><g><rect x="30" y="318" width="260" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 250px; height: 1px; padding-top: 328px; margin-left: 35px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">operations</div></div></div></foreignObject><text x="160" y="332" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">operations</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-16"><g><rect x="30" y="338" width="260" height="37" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 250px; height: 1px; padding-top: 357px; margin-left: 36px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 33px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>+ canRedeem(pointsNeeded=80): bool</div></div></div></div></foreignObject><text x="36" y="360" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">+ canRedeem(pointsNeeded=80): bool</text></switch></g></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-18"><g><path d="M 20 615 L 20 560 L 280 560 L 280 615" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 20 615 L 20 765 L 280 765 L 280 615" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 20 615 L 280 615" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 567px; margin-left: 21px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Category</div></div></div></foreignObject><text x="150" y="579" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Category</text></switch></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-19"><g><rect x="20" y="615" width="260" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 250px; height: 1px; padding-top: 625px; margin-left: 25px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">attributes</div></div></div></foreignObject><text x="150" y="629" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">attributes</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-20"><g><rect x="20" y="635" width="260" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 250px; height: 1px; padding-top: 645px; margin-left: 26px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">- id: long</div></div></div></foreignObject><text x="26" y="649" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">- id: long</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-21"><g><rect x="20" y="655" width="260" height="45" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 250px; height: 1px; padding-top: 678px; margin-left: 26px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 41px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>+ name: str</div><div><span style="background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));">+ position: str?</span></div></div></div></div></foreignObject><text x="26" y="681" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">+ name: str...</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-22"><g><path d="M 20 704 L 280 704" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-23"><g><rect x="20" y="708" width="260" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 250px; height: 1px; padding-top: 718px; margin-left: 25px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">operations</div></div></div></foreignObject><text x="150" y="722" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">operations</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-24"><g><rect x="20" y="728" width="260" height="37" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 250px; height: 1px; padding-top: 747px; margin-left: 26px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 33px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">+ rename(newName)<div>+ reorder(newPosition)</div></div></div></div></foreignObject><text x="26" y="750" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">+ rename(newName)...</text></switch></g></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-25"><g><path d="M 70 995 L 70 940 L 330 940 L 330 995" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 70 995 L 70 1200 L 330 1200 L 330 995" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 70 995 L 330 995" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 947px; margin-left: 71px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">MenuItem</div></div></div></foreignObject><text x="200" y="959" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">MenuItem</text></switch></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-26"><g><rect x="70" y="995" width="260" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 250px; height: 1px; padding-top: 1005px; margin-left: 75px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">attributes</div></div></div></foreignObject><text x="200" y="1009" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">attributes</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-77"><g><path d="M 320 1110 L 350 1110 L 570 1010 L 600 1010" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 324 1106 L 324 1114 M 328 1106 L 328 1114" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><ellipse cx="588" cy="1010" rx="3" ry="3" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 600 1006 L 592 1010 L 600 1014" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g data-cell-id="vJNTymB56bN5HtAki3eb-78"><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1066px; margin-left: 464px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; ">from_menu</div></div></div></foreignObject><text x="464" y="1070" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle">from_menu</text></switch></g></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-27"><g><rect x="70" y="1015" width="260" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 250px; height: 1px; padding-top: 1025px; margin-left: 76px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">- id: long</div></div></div></foreignObject><text x="76" y="1029" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">- id: long</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-28"><g><rect x="70" y="1035" width="260" height="65" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 250px; height: 1px; padding-top: 1068px; margin-left: 76px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 61px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>+ name: str</div><div>+ price_cents: int</div><div>+ active: bool</div><div>+ description?: str</div></div></div></div></foreignObject><text x="76" y="1071" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">+ name: str...</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-29"><g><path d="M 70 1104 L 330 1104" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-30"><g><rect x="70" y="1108" width="260" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 250px; height: 1px; padding-top: 1118px; margin-left: 75px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">operations</div></div></div></foreignObject><text x="200" y="1122" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">operations</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-31"><g><rect x="70" y="1128" width="260" height="72" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 250px; height: 1px; padding-top: 1164px; margin-left: 76px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 68px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">+ rename(newName)<div>+ reprice(newPrice)</div><div>+ activate()</div><div>+ deactivate()</div></div></div></div></foreignObject><text x="76" y="1168" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">+ rename(newName)...</text></switch></g></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-39"><g><path d="M 400 435 L 400 380 L 810 380 L 810 435" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 400 435 L 400 770 L 810 770 L 810 435" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 400 435 L 810 435" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 408px; height: 1px; padding-top: 387px; margin-left: 401px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Order</div></div></div></foreignObject><text x="605" y="399" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Order</text></switch></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-79"><g><path d="M 760 490 L 790 490 L 914.6 350.52 L 944.6 350.52" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 764 486 L 764 494 M 768 486 L 768 494" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><ellipse cx="932.6" cy="350.52" rx="3" ry="3" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 944.6 346.52 L 936.6 350.52 L 944.6 354.52" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g data-cell-id="vJNTymB56bN5HtAki3eb-80"><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 424px; margin-left: 851px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; ">settled_by</div></div></div></foreignObject><text x="851" y="427" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle">settled_by</text></switch></g></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-40"><g><rect x="400" y="435" width="410" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 400px; height: 1px; padding-top: 445px; margin-left: 405px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">attributes</div></div></div></foreignObject><text x="605" y="449" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">attributes</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-42"><g><rect x="400" y="455" width="410" height="215" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 400px; height: 1px; padding-top: 563px; margin-left: 406px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 211px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">+id<br style="padding: 0px; margin: 0px;" />  +status: OrderStatus             %% PAID|COMPLETED|REFUNDED<br style="padding: 0px; margin: 0px;" />  +paid_at: date<br style="padding: 0px; margin: 0px;" />  +subtotal_cents<br style="padding: 0px; margin: 0px;" />  +manual_discount_type: DiscountType  %% NONE|STUDENT_10|FRIENDS_FAMILY_20<br style="padding: 0px; margin: 0px;" />  +manual_discount_cents: int<br style="padding: 0px; margin: 0px;" />  +loyalty_redemption_cents :int          %% value of free drink this order<br style="padding: 0px; margin: 0px;" />  +tax_cents: int<br style="padding: 0px; margin: 0px;" />  +receipt_number : int<br style="padding: 0px; margin: 0px;" />  +total_cents: int<br style="padding: 0px; margin: 0px;" />  +points_earned : int                %% floor(pre-tax, post-discount $)<br style="padding: 0px; margin: 0px;" />  +redeemed_points : int              %% 0 or 80<br style="padding: 0px; margin: 0px;" />  +created_at: date</div></div></div></foreignObject><text x="406" y="566" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">+id...</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-43"><g><path d="M 400 674 L 810 674" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-44"><g><rect x="400" y="678" width="410" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 400px; height: 1px; padding-top: 688px; margin-left: 405px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">operations</div></div></div></foreignObject><text x="605" y="692" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">operations</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-45"><g><rect x="400" y="698" width="410" height="72" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 400px; height: 1px; padding-top: 734px; margin-left: 406px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 68px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">  +complete(actor: User)<br style="padding: 0px; margin: 0px;" />  +refund(manager: User, reference, reason)   %% manager-only<br style="padding: 0px; margin: 0px;" />  +isEditable(): bool                          %% false after pay<br style="padding: 0px; margin: 0px;" />  +validateInvariant()</div></div></div></foreignObject><text x="406" y="738" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">+complete(actor: User)...</text></switch></g></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-46"><g><path d="M 600 945 L 600 890 L 760 890 L 760 945" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 600 945 L 600 1130 L 760 1130 L 760 945" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 600 945 L 760 945" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 897px; margin-left: 601px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">OrderItem</div></div></div></foreignObject><text x="680" y="909" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">OrderItem</text></switch></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-47"><g><rect x="600" y="945" width="160" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 150px; height: 1px; padding-top: 955px; margin-left: 605px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">attributes</div></div></div></foreignObject><text x="680" y="959" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">attributes</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-48"><g><rect x="600" y="965" width="160" height="65" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 150px; height: 1px; padding-top: 998px; margin-left: 606px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 61px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">  +id: int<br style="padding: 0px; margin: 0px;" />  +name_snapshot:str<br style="padding: 0px; margin: 0px;" />  +unit_price_cents: int<br style="padding: 0px; margin: 0px;" />  +qty: int</div></div></div></foreignObject><text x="606" y="1001" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">+id: int...</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-49"><g><path d="M 600 1034 L 760 1034" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-50"><g><rect x="600" y="1038" width="160" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 150px; height: 1px; padding-top: 1048px; margin-left: 605px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">operations</div></div></div></foreignObject><text x="680" y="1052" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">operations</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-51"><g><rect x="600" y="1058" width="160" height="72" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 150px; height: 1px; padding-top: 1094px; margin-left: 606px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 68px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">+ lineTotal(): int</div></div></div></foreignObject><text x="606" y="1098" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">+ lineTotal(): int</text></switch></g></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-52"><g><path d="M 940 375 L 940 320 L 1140 320 L 1140 375" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 940 375 L 940 600 L 1140 600 L 1140 375" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 940 375 L 1140 375" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 327px; margin-left: 941px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">PaymentRecord</div></div></div></foreignObject><text x="1040" y="339" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">PaymentRecord</text></switch></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-53"><g><rect x="940" y="375" width="200" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 190px; height: 1px; padding-top: 385px; margin-left: 945px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">attributes</div></div></div></foreignObject><text x="1040" y="389" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">attributes</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-54"><g><rect x="940" y="395" width="200" height="105" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 190px; height: 1px; padding-top: 448px; margin-left: 946px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 101px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">+id<br style="padding: 0px; margin: 0px;" />  +method: PaymentMethod           %% CASH|CARD|COMP<br style="padding: 0px; margin: 0px;" />  +amount_cents: int<br style="padding: 0px; margin: 0px;" />  +reference? str<br style="padding: 0px; margin: 0px;" />  +created_at: date<div>+rounding_cents: int=0 (0, +-1, +-2)</div></div></div></div></foreignObject><text x="946" y="451" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">+id...</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-55"><g><path d="M 940 504 L 1140 504" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-56"><g><rect x="940" y="508" width="200" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 190px; height: 1px; padding-top: 518px; margin-left: 945px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 16px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">operations</div></div></div></foreignObject><text x="1040" y="522" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">operations</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-57"><g><rect x="940" y="528" width="200" height="72" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 190px; height: 1px; padding-top: 564px; margin-left: 946px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 68px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">+ isRefund(): bool</div></div></div></foreignObject><text x="946" y="568" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">+ isRefund(): bool</text></switch></g></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-63"><g><path d="M 605 380 L 575 380 L 575 277.28 L 599.26 277.28 L 599.26 174.56 L 569.26 174.56" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 601 384 L 601 376 M 597 384 L 597 376" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><ellipse cx="581.26" cy="174.56" rx="3" ry="3" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 573.26 170.56 L 573.26 178.56" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g data-cell-id="vJNTymB56bN5HtAki3eb-64"><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 276px; margin-left: 603px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; ">created by</div></div></div></foreignObject><text x="603" y="279" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle">created by</text></switch></g></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-71"><g><path d="M 290 247.5 L 320 247.5 L 370 575 L 400 575" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><ellipse cx="302" cy="247.5" rx="3" ry="3" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 294 243.5 L 294 251.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><ellipse cx="388" cy="575" rx="3" ry="3" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 400 571 L 392 575 L 400 579" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g data-cell-id="vJNTymB56bN5HtAki3eb-72"><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 398px; margin-left: 347px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; ">attached_to<div>optional (guest)</div></div></div></div></foreignObject><text x="347" y="401" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle">attached_to...</text></switch></g></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-73"><g><path d="M 280 662.5 L 310 662.5 L 310 936.1 L 258.5 936.1" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 258.5 940.1 L 266.5 936.1 L 258.5 932.1" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g data-cell-id="vJNTymB56bN5HtAki3eb-74"><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 812px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; ">contains many</div></div></div></foreignObject><text x="311" y="815" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle">contains many</text></switch></g></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-75"><g><path d="M 810 575 L 840 575 L 840 1010 L 760 1010" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 814 571 L 814 579 M 818 571 L 818 579" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><ellipse cx="772" cy="1010" rx="3" ry="3" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 760 1014 L 768 1010 L 760 1006" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g data-cell-id="vJNTymB56bN5HtAki3eb-76"><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 776px; margin-left: 842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; ">has one or more</div></div></div></foreignObject><text x="842" y="779" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle">has one or more</text></switch></g></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-81"><g><rect x="580" y="300" width="320" height="50" fill="#ffffff" stroke="none" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 318px; height: 1px; padding-top: 325px; margin-left: 581px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">total_cents = subtotal_cents − manual_discount_cents − loyalty_redemption_cents + tax_cents + tip_cents</div></div></div></foreignObject><text x="740" y="329" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">total_cents = subtotal_cents − manual_discount_cents −...</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-82"><g><rect x="890" y="230" width="320" height="50" fill="#ffffff" stroke="none" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 318px; height: 1px; padding-top: 255px; margin-left: 891px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><code data-start="1340" data-end="1407">payment.amount_cents = order.total_cents + payment.rounding_cents</code><br data-start="1407" data-end="1410" /><br />(and <code data-start="1417" data-end="1455">rounding_cents ∈ {−2, −1, 0, +1, +2}</code> only when <code data-start="1466" data-end="1479">method=CASH</code>; otherwise 0)</div></div></div></foreignObject><text x="1050" y="259" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">payment.amount_cents = order.total_cents + payment.ro...</text></switch></g></g></g><g data-cell-id="vJNTymB56bN5HtAki3eb-83"><g><rect x="0" y="420" width="330" height="80" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 328px; height: 1px; padding-top: 427px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><code data-end="1604" data-start="1512">points_earned = floor(pre-tax subtotal AFTER manual discount and EXCLUDING redeemed drink)</code><br data-end="1607" data-start="1604" /><br /><code data-end="1636" data-start="1609">redeemed_points ∈ {0, 80}</code></div></div></div></foreignObject><text x="2" y="439" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px">points_earned = floor(pre-tax subtotal AFTER manual dis...</text></switch></g></g></g></g></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>